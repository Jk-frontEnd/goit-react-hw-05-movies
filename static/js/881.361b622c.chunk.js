"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[881],{881:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var a=s(791);const r={MoviesBox:"Movies_MoviesBox__jPCE3",form:"Movies_form__4ow+Z",input:"Movies_input__KrUqs",btn:"Movies_btn__TlfBQ",link:"Movies_link__MzAfU",item:"Movies_item__Ba4aJ"};var o=s(689),c=s(87),i=s(184);const l=()=>{const[e,t]=(0,a.useState)(""),[s,l]=(0,a.useState)([]),[n]=(0,a.useState)("6ec0ba8fa041ffdfd513a6b00a854a64"),[u,h]=(0,a.useState)(!1),[m,_]=(0,a.useState)(null),d=(0,o.s0)(),f=(0,o.TH)();console.log(f);const v=(0,a.useCallback)((async e=>{const t="https://api.themoviedb.org/3/search/movie?query=".concat(e,"&api_key=").concat(n);try{h(!0);const e=await fetch(t),s=await e.json();e.ok?(l(s.results),_(null)):(_("Failed to fetch search results"),l([]))}catch(m){console.error("Error fetching search results:",m),_("Failed to fetch search results"),l([])}finally{h(!1)}}),[n]);return(0,i.jsxs)("div",{className:r.MoviesBox,children:[(0,i.jsxs)("form",{className:r.form,onSubmit:async t=>{if(t.preventDefault(),""!==e.trim())try{localStorage.setItem("searchQuery",e),await v(e),d("/movies?query=".concat(e))}catch(m){console.error("Error during search:",m)}},children:[(0,i.jsx)("input",{className:r.input,onChange:e=>{t(e.target.value)},type:"text",value:e}),(0,i.jsx)("button",{className:r.btn,type:"submit",children:"Search"})]}),u&&(0,i.jsx)("p",{children:"Loading..."}),m&&(0,i.jsxs)("p",{children:["Error: ",m]}),s.length>0&&(0,i.jsx)("ul",{className:r.searchResults,children:s.map((e=>(0,i.jsx)("li",{className:r.item,children:e.original_title&&(0,i.jsx)(c.rU,{className:r.link,to:"/movies/".concat(e.id),children:e.original_title})},e.id)))})]})}}}]);
//# sourceMappingURL=881.361b622c.chunk.js.map